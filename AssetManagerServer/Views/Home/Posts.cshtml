@using AssetManagerServer.Models
@model dynamic

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <title>Посты</title>
</head>
<body>
<div>
    <a href="/Home/NewPost/">Создать пост</a>
    <div>
        @{
            var posts = new List<Post>();
            foreach (var post in ViewBag.Posts)
            {
                posts.Add(new Post(post as Post));
            }
            var users = new List<User>();
            foreach (var user in ViewBag.Users)
            {
                users.Add(new User(user as User));
            }
        }
        @foreach (var post in posts)
        {
            <b>@users.First(user => user.Id == post.UserId).Name</b>
            <b>@post.Datetime.ToString("dd.MM.yyyy hh:mm:ss")</b><br/>
            <p>@post.Text</p>
        }
    </div>
</div>
</body>
</html>